Oh How I have struggled today, its been 5 hours and I have been finally been able to test my lambda function which processes the transcript file from transcriptions/ in S3 and extracts the overall text from the transcript to store it in the clean-transcriptions/ in S3. This was being done so that the clean transcript could be passed to the comprehend API to get the keywords.

Pretty simple task if you are trying to get this done in your machine but it takes enormous effort if these are fucking lambdas and me a fucking noob in AWS. Deploying code successfully in AWS as a beginner is synonymous to the harrowing stories told by the survivors who got lost in amazon. Here is my daily log for the task I performed today.

- Got the transcription lambda running: It gets trigerred whenever a new audio file is uploaded to the S3 and passes the audio to the   transcription API with the request parameter ObjectKey specified as /transcriptions, and this right here is a huge mistake. ObjectKey is the request parameter which helps us define in which S3 folder you want to store the transcription. Without this it would be stored in the root folder. My plan was that it would get deposited in the folder transcriptions under root. Instead what happened is it created a / folder then created a transcriptions folder inside and finally stored the file.
    -   I have not corrected this problem now, the solution I see is to change /transcriptions to transcriptions/ and poof it should work, Hopefully ; (
    - I had also tried to add this transciption file entry to the RDS postgres database I have got running in the AWS but alas it was to no avail. The query failed of no reason and I didn't have patience to correct it. I have left this task to the future me. 
    - The postgres free limit is approaching fast, maybe I would have to migrate the database from SQL to NoSQl using the free service of mongo Atlas, but we'll see. Currently I hope to complete the entire chain of events from Transcription to Elastic Search and then see what is to be done for the database. 

- Struggling with AWS has taught me that AWS should really provide some mocking kit for some of its services so that without dealing with the hassles of IAM and policies I could just provide the architecture and create a quick mock, write the lambda and other glue code without dealing with the annoying IAM's and policies and AWS's Obnoxious frontend. The UI is so bad it seems it was made for people having trouble seeing light things. Every thing is so light moded. Maybe I could create a mock for this using Docker or something. 

- Now finally today I successfully created another lambda function to input a transcription and get the text for that file and create another file and store it in S3. For this the main problem was the JSON stringify error, the stringify function doesn't work if the Json object is circular. The problem I was getting was I was returning from the Lambda a circular object, which caused problems in message parsing in Lambda indivdually. A small gist of the bug I [faced](https://dev.to/dvddpl/alone-against-a-bug-1hjo)